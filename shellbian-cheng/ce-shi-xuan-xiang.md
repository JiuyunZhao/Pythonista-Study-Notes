Shell中if等语句的条件判断通常就是判断一些测试选项的结果是否为真。



### 常用的文件类型测试选项（Linux中目录、设备等都是用文件进行表示）

* **-d 文件：**判断该文件是否存在，并且是否为目录文件。
* **-e 文件：**判断该文件是否存在。
* **-f 文件：**判断该文件是否存在，并且是否为普通文件。
* **-L 文件：**判断该文件是否存在，并且是否为符号链接文件。
* **-s 文件：**判断该文件是否存在，并且是否为非空。

可以使用两种方式：

* **test -e /root/install.log：**使用test命令，测试该文件是否存在（执行成功则返回0）
* **\[ -e /root/install.log \]：**使用方括号的形式，测试该文件是否存在（注意首尾的空格不能少，且这种方式更常用）。

检查测试项的运行结果可以使用如下表达式：\[ -e /root/install.log \] && echo "yes" \|\| echo "no"。



### 常用的文件权限测试选项

* **-r 文件：**判断该文件是否存在，并且该文件是否拥有读权限。
* **-w 文件：**判断该文件是否存在，并且该文件是否拥有写权限。
* **-x 文件：**判断该文件是否存在，并且该文件是否拥有执行权限。



### 常用的两个文件之间的测试选项

* **文件1 -nt 文件2：**判断文件1的修改时间是否比文件2的新。
* **文件1 -ot 文件2：**判断文件1的修改时间是否比文件2的旧。
* **文件1 -ef 文件2：**判断文件1是否和文件2的iNode号一致，可以理解为判断两个文件是否为同一个文件，这个选项常用于硬链接的判断。



### 常用的两个整数之间的测试选项

* **整数1 -eq 整数2：**判断整数1是否和整数2相等。
* **整数1 -ne 整数2：**判断整数1是否和整数2不相等。
* **整数1 -gt 整数2：**判断整数1是否大于整数2。
* **整数1 -lt 整数2：**判断整数1是否小于整数2。
* **整数1 -ge 整数2：**判断整数1是否大于等于整数2。
* **整数1 -le 整数2：**判断整数1是否小于等于整数2。



### 常用的字符串测试选项

* **-z 字符串：**判断字符串是否为空（通常用于变量的值）。
* **-n 字符串：**判断字符串是否为非空（通常用于变量的值）。
* **字符串1 == 字符串2：**判断字符串1和字符串2是否相等。
* **字符串1 ！= 字符串2：**判断字符串1和字符串2是否不相等。



### 常用的多重条件判断

* **判断1 -a 判断2：**逻辑与。
* **判断1 -o 判断2：**逻辑与。
* **!判断式：**逻辑非。



