# PyCharm使用

## **一、常用快捷键**

PyCharm的快捷键可以通过Setting-&gt;keymap查看和设置，如果不知道具体在哪个位置，可以在搜索框中搜索。

如果不习惯PyCharm默认的快捷键，也不想去设置，比如习惯了使用eclipse，可以双击Shift，在弹出的搜索框中搜索keymap，点击keymap后可以设置默认的IDE快捷键。

* **Ctrl+/：**以“\#”注释当前行或选中行。
* **Ctrl+D：**复制当前行到下一行或复制选中内容插入光标所在位置。
* **Ctrl+Y：**删除当前行或选中行。
* **Ctrl+\(+/-\)：**展开或折叠当前代码块（可以使用\# region ... \# endregion来指定某段内容为代码块）。
* **Ctrl+Shift+\(+/-\)：**展开或折叠所有代码块。
* **Ctrl+Shift+F：**全局搜索（在项目中搜索某些关键词或函数等非常方便）。
* **Ctrl+R：**查找替换。
* **Ctrl+Shift+R：**全局查找替换。
* **Ctrl+N：**类搜索。
* **Ctrl+Shift+N：**文件搜索。
* **Ctrl+E：**查看打开刚关闭的文件。
* **Shift+Enter：**在当前行的下一行插入一空行。
* **Ctrl+G：**定位到某一行。
* **F12：**选中到项目结构窗口，按ESC可以回到文件编辑窗口。
* **Ctrl+F12：**快速查看文件结构（会在弹窗中显示文件结构）。
* **Ctrl+Shift+F12：**最大化/还原编辑窗。
* **F11/Shift+F11：**设置/查看书签（光标所在行）。
* **Ctrl+B/Click：**跳转进入到对应的代码定义。
* **Ctrl+Shift+I：**快速查看对应的代码定义（会在弹窗中显示对应的代码定义内容）。
* **Ctrl+Shift+Z：**恢复上次的撤销操作。
* **Ctrl+Alt+L：**格式化代码（可以很好的规范代码）。
* **Ctrl+Alt+T：**将选中的代码行或代码块嵌入到if/while等语句块中（会出现弹窗进行选择具体语句）。
* **Ctrl+Alt+O：**优化导入，将import等相关导入语句进行优化，比如删除没有使用的import语句或者使之符合规范等。
* **Ctrl+Alt+I：**对选中的代码块进行自动缩进调整。
* **Ctrl+Alt+Left/Right：**根据光标的跳转轨迹回退/前进到之前的代码位置（有时候使用“Ctrl+B/Click”等操作跳转多了后，又想跳回去看之前的代码的时候发现很多地方都引用了这个代码，如果忘记了是从哪跳过来的，这个功能就很方便了，可以一步一步再倒回去）。
* **Ctrl+F8：**断点开关。
* **Alt+F8：**在断点处进行表达式验证（会出现一个弹窗，在弹窗中输入表达式即可）。
* **Ctrl+Shift+F8：**查看断点。
* **Alt+F7：**在当前文件中搜索选中文本。
* **Alt+Left/Right：**跳转到前一个或下一个编辑窗口。
* **Alt+Up/Down：**跳转到上一个或下一个方法。
* **Ctrl+Shift+Backspace：**跳转到最近编辑的位置。
* **Alt+\[0-9\]：**打开相应的工具窗口。如左边的project工具窗口，它的名称显示为“1:project”，所以使用Alt+1即可，其他工具窗口也会有相应的数字。

## **二、设置settings**

**代码风格检查：**PyCharm默认的代码风格检查由于每个人的习惯多多少少有些不同，所以它的提示就会有很多波浪线，影响阅读，可以在Setting-&gt;Editor-&gt;Inspections下设置自己习惯的代码风格检查。

**文件模板：**当新建一个文件时，希望新建的文件自动包含一些脚本或者注释信息等，比如“\#!/usr/bin/env python”和“\# -\*- coding: utf-8 -\*-”等，可以在Setting-&gt;Editor-&gt;File and Code Templates里设置不同文件新建时自带的脚本或注释信息。在文件模板中也可以设置一些预定义变量，如作者或日期等，具体写法及含义如下（PyCharm 2019.2）：

* **${USER}：**当前登录用户名。
* **${DATE}：**当前系统日期（只包含年月日）。
* **${TIME}：**当前系统时间。
* **${YEAR}：**当前年。
* **${MONTH}：**当前月（数字表示）。
* **${MONTH\_NAME\_FULL}：**当前月名称全称。
* **${MONTH\_NAME\_SHORT}：**当前月名称简称。
* **${DAY}：**本月的当前日期，即这个月的几号。
* **${HOUR}：**当前小时。
* **${MINUTE}：**当前分钟。
* **${FILE\_NAME}：**新建该文件时的文件全名（包含文件类型后缀）。
* **${NAME}：**新建该文件时的文件名（不包含文件类型后缀）。
* **${PROJECT\_NAME}：**当前项目名称。
* **${DS}：**表示美元符“$”的转义字符，即不会被当作预定义变量的前缀。
* **${PRODUCT\_NAME}：**当前IDE名称，比如PyCharm。

**Tab缩进：**PyCharm默认是使用4个空格，但是有时又不可避免的需要使用到tab键，可以设置tab键为4个空格，在Settings-&gt;Editor-&gt;Code Style-&gt;Python的“tabs and Indents”中去掉“Use tab character”，并设置“Tab size”和“Indent”为4，“Continuation indent”为8。

![](/assets/tab_indents.png)

## **三、运行和调试**

**单实例运行：**在2017及更低版本中，同一个程序或文件多次点击“run”或“debug”会运行多个实例，如果想要每次点击都只运行一个实例，可以在“Edit Configurations”中勾上“Single instance only”，而在2018及更高版本中则默认是单实例运行，这时候想要多实例运行，勾上“Allow parallel run”即可。

**watches窗口：**在debug的断点调试时，可以使用debug窗口的加号“+”和“-”来输出当前断点变量的Python表达式，这时候建议使用watches按钮功能，开一个新的窗口来查看和实验当前断点的变量和对象的值。

**断点编辑：**在打上断点时，可以右键断点，在Condition的输入框中输入布尔表达式，表示在当前断点处满足Condition表达式后才会触发断点拦截功能。

**参数配置：**在“Edit Configurations”中配置参数时就如同在命令窗口时的配置，比如配置路径时如果使用的是反斜杠，则建议加上双引号，不然某个文件夹名称中有空格的话，这个路径就会被空格分隔为多个参数。

## **四、编程**

**Tab符转换成空格：**如果代码文件中有不规范的tab符，可以进行批量转换成空格，在菜单栏Edit-&gt;Convert Indents-&gt;To Spaces。

**查看修改记录：**在文件中右键Local History-&gt;Show History可以查看这个文件最近的修改记录，有时候不确定自己改了哪些具体的内容，就可以使用这个功能。

**TODO提醒：**在行注释符后使用“TODO”（大小写都行，“TODO”前后不能和其他的英文字母相连）来表明这是一个提醒事项，比如“\# TODO: 这儿的代码提交时再检查一遍”，在代码提交时它会提醒你还有未删除的“TODO”，或者也可以自己在PyCharm下方的“TODO”视图中查看，这个功能在代码检视或者有什么需要临时批注以便后来修改时特别好用，不至于把当时想要做的忘记了

**多窗口编辑：**如果有一个屏幕而且是宽频，可以使用右键的“Move Right”或“Move Down”等来进行两个或多个窗口的查看和编辑



